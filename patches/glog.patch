diff --git a/CMakeLists.txt b/CMakeLists.txt
index 808330e..f4bd226 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -48,12 +48,17 @@ set (CMAKE_DEBUG_POSTFIX d)
 set (CMAKE_THREAD_PREFER_PTHREAD 1)
 
 if (WITH_GFLAGS)
-  find_package (gflags 2.2.0)
-
-  if (gflags_FOUND)
+  if(NOT TARGET gflags::gflags)
+    find_package (gflags 2.2.0)
+
+    if (gflags_FOUND)
+      set (HAVE_LIB_GFLAGS 1)
+      determine_gflags_namespace (gflags_NAMESPACE)
+    endif (gflags_FOUND)
+  else()
     set (HAVE_LIB_GFLAGS 1)
-    determine_gflags_namespace (gflags_NAMESPACE)
-  endif (gflags_FOUND)
+    set(gflags_NAMESPACE gflags)
+  endif()
 endif (WITH_GFLAGS)
 
 if (WITH_THREADS)
